machine:
  environment:
    APPNAME: FlyveMDMAdminDashboard
    XCODE_SCHEME: FlyveMDMAdminDashboard
    XCODE_PROJECT: FlyveMDMAdminDashboard.xcodeproj
    PROFILE_UUID: XC_iOS_orgflyveadmindashboard
    KEYCHAIN_NAME: ios-app.keychain
    SCRIPT_PATH: ./ci
    CERTIFICATES_PATH: ./ci/cert
    PROFILE_PATH: ./ci/profile
    GH_USER: teclib-bot
    GH_REPO_SLUG: flyve-mdm/flyve-mdm-ios-admin-dashboard
    TRANSIFEX_USER: api
  xcode:
    version: 8.3
dependencies:
  pre:
    - source ./ci/before_install.sh
  override:
    - source ./ci/install.sh
test:
  pre:
    - source ./ci/before_test.sh
  override:
    - source ./ci/test.sh
deployment:
  develop:
    branch: develop
    commands:
      - source ./ci/deploy_develop.sh
      - source ./ci/after_deploy.sh
  master:
    branch: master
    commands:
      - source ./ci/deploy_master.sh
      - source ./ci/after_deploy.sh
